\section{Density function and kernel estimation}
\subsection{Density function}
We want to estimate the density $f_X$ of $X\in \R$ and will work among classes
of densities. For example,
\begin{enumerate}
    \item \textbf{continuous densities}
    \item densities such that for all $x,\ x'\in \R,\ \abs{f_X(x)-f_X(x')}\le
              M\abs{x-x'}$ for some $M>0$
    \item densities which are \textbf{monotonically increasing} on $[0,1]$
\end{enumerate}

\subsection{Density function estimation}
If $X$ has a density $f_X$ , then $f_X(x)=F_X'(x)\ a.e.$ because \begin{equation*}
    F_X(x)=\int_{-\infty}^x f_X(t)dt=\E\bra{\mathbbm{1}_{\{X\le x\}}}.
\end{equation*}
A natural estimator of the CDF is the  \textbf{empirical CDF}, defined as
\begin{equation*}
    \hat{F}_n(x)=\frac{1}{n}\sum_{i=1}^n \mathbbm{1}_{\{X_i\le x\}}.
\end{equation*} where $n$ is the sample size. Therefore, an estimator of $f_X$ is the derivative of the empirical CDF, which is the \textbf{empirical density function} defined as \begin{equation*}
    \begin{split}
        \hat{f}_n(x)=\frac{\hat{F}_X\pa{x+h/2}-\hat{F}_X\pa{x-h/2}}{h}= \frac{1}{nh}\sum_{i=1}^n K\pa{\frac{X_i-x}{h}}
    \end{split}
\end{equation*} where $K(x)=\mathbbm{1}_{\{X\le \frac{1}{2}\}}$
\begin{definition}[kernel function]
    A kernel is a function $K:\R\to \R$ such that $K\in L^1(\R)$ and $\int K(x)dx=1$.
\end{definition}
\begin{definition}[kernel density estimator with kernel $K$ and bandwidth $h$]
    The kernel density estimator of $f_X$ is defined as \begin{equation*}
        \hat{f}_n(x)=\frac{1}{nh}\sum_{i=1}^n K\pa{\frac{X_i-x}{h}}
    \end{equation*}
\end{definition}
